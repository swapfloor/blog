# a b c

按题意模拟即可

# d

## 题描

给一个n个结点，下标从0到n-1的无向图。

给一个数组记录每个结点的分数，给一个二维array记录边。

求一条结点数为4的链的最大分数。

**链**：每条边连接相邻的结点在序列中，每个结点只能在序列中出现一次，因此没有环，因此也没有一个点的度数为3及以上。

> 一笔画无环。

## 思维

- 首先想到dfs，根据长度为4可以否定dfs，为什么？

dfs有一个基础子结构，从根处可以向下遍历，但是长度为4的序列几乎无从下手。

- 然后暴力起手，暴力就是全部枚举一遍，我们需要枚举的对象？**边**？**点**？

- 我们需要一条长度为4的链，如果枚举点，需要其邻接点假设为x，需要四层就是$x^4$然后再乘以点N，所以复杂度可能跟x有很大关系。

- 如果枚举边怎么样，一条边提供了两个长度，如果枚举端点的邻接点各一个可以构成长度为4的链，这时可以贪心取最值吗？

- 比如我们给每个边的一些邻边忽略。

证明：可以去掉较小分数的边。
假设枚举边为e，端点为u和v，v的其中一个邻点p是其中分数较小的邻点，如果最后链中间两点是u和v，则p可以去掉，如果p连接到非u和v的点，则可以通过归纳去掉p。

为什么枚举边是对的，因为最后的长度为4的链一定在枚举的边中。

## code

- 无向图双向建边，所以如果保留u的邻点有v，还有另外几个点

坑点，如果u和v同时连接到点a，则uva并不能构成答案链。

但是不是我们需要保留一个最大的点，怎么办？留三个点，

- 如果留一个点，则正好是题目中的边，即u连接v，v连接u，❌

- 如果留两个点，则可能正好该点a连接着u和v

- 如果是三个点，如果a和b同时连接u和v，这时也可以解决。见下图

![](https://github.com/swapfloor/blog/blob/main/images/grap1.png)

也能找到一条答案链。

- 对点排序，如果超过三，去掉小的。

- 遍历边，然后遍历a和b，遍历a和b复杂度为3 × 3，前面3log3n，复杂度O(3log3n+3×3n)=O(n)
